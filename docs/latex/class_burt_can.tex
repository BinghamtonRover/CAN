\hypertarget{class_burt_can}{}\doxysection{Burt\+Can Class Reference}
\label{class_burt_can}\index{BurtCan@{BurtCan}}


A service to send and receive messages via the CAN bus protocol.  




{\ttfamily \#include $<$BURT\+\_\+can.\+h$>$}

\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{class_burt_can_a4a2407abb36ee4e5d23696ff1c868cc4_a4a2407abb36ee4e5d23696ff1c868cc4}{setup}} ()
\begin{DoxyCompactList}\small\item\em Initializes settings in CAN. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_burt_can_ab549af8dc00d6f7c4f02af0055628fd1_ab549af8dc00d6f7c4f02af0055628fd1}{update}} ()
\begin{DoxyCompactList}\small\item\em Checks for incoming messages. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_burt_can_a238e2df76151f9b512bb2211ee25d620_a238e2df76151f9b512bb2211ee25d620}{send}} (uint32\+\_\+t id, uint8\+\_\+t data\mbox{[}\mbox{\hyperlink{_b_u_r_t__can_8h_af0113b8a0d65aab384607436aa155838_af0113b8a0d65aab384607436aa155838}{DATA\+\_\+\+LENGTH}}\mbox{]})
\begin{DoxyCompactList}\small\item\em Sends a message via the CAN bus protocol. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_burt_can_a0e87852581ef690086342a48a291d569_a0e87852581ef690086342a48a291d569}{register\+Handler}} (uint32\+\_\+t id, \mbox{\hyperlink{_b_u_r_t__can_8h_a5062746f455c9d56d0c1f684bba82ef3_a5062746f455c9d56d0c1f684bba82ef3}{Can\+Handler}} handler)
\begin{DoxyCompactList}\small\item\em Registers a handler function for the given ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{class_burt_can_a0a90577332245518856f62d7aabb1790_a0a90577332245518856f62d7aabb1790}{mailbox}} = MB0
\begin{DoxyCompactList}\small\item\em The number of the next available mailbox. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{_b_u_r_t__can_8h_ad573616343e9599d46e53cbd0495a674_ad573616343e9599d46e53cbd0495a674}{Can}} \mbox{\hyperlink{class_burt_can_a3861945afb212de0ec54f490813dbb9b_a3861945afb212de0ec54f490813dbb9b}{can}}
\begin{DoxyCompactList}\small\item\em The {\ttfamily Flex\+CAN\+\_\+\+T4} instance. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A service to send and receive messages via the CAN bus protocol. 

The CAN protocol allows microcontrollers to efficiently communicate. On the rover, CAN is used to coordinate the subsystems to the onboard computer. When the computer receives a command from the operator, it translates it to a CAN message with a specific ID. The ID designates the purpose of the message as well as which function is to handle it.

Internally, this service delegates to the \href{https://github.com/tonton81/FlexCAN_T4}{\texttt{ {\ttfamily Flex\+CAN\+\_\+\+T4}}} library.

Usage\+:
\begin{DoxyItemize}
\item Use \mbox{\hyperlink{class_burt_can_a4a2407abb36ee4e5d23696ff1c868cc4_a4a2407abb36ee4e5d23696ff1c868cc4}{setup}} to initialize the CAN service
\item Use \mbox{\hyperlink{class_burt_can_ab549af8dc00d6f7c4f02af0055628fd1_ab549af8dc00d6f7c4f02af0055628fd1}{update}} to check for new messages
\item Use \mbox{\hyperlink{class_burt_can_a238e2df76151f9b512bb2211ee25d620_a238e2df76151f9b512bb2211ee25d620}{send}} to send some data to a given ID
\item Use \mbox{\hyperlink{class_burt_can_a0e87852581ef690086342a48a291d569_a0e87852581ef690086342a48a291d569}{register\+Handler}} to designate a function to handle messages with a given ID
\end{DoxyItemize}

See \href{https://en.wikipedia.org/wiki/CAN_bus}{\texttt{ https\+://en.\+wikipedia.\+org/wiki/\+CAN\+\_\+bus}} for more details. 

Definition at line \mbox{\hyperlink{_b_u_r_t__can_8h_source_l00044}{44}} of file \mbox{\hyperlink{_b_u_r_t__can_8h_source}{BURT\+\_\+can.\+h}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_burt_can_a0e87852581ef690086342a48a291d569_a0e87852581ef690086342a48a291d569}\label{class_burt_can_a0e87852581ef690086342a48a291d569_a0e87852581ef690086342a48a291d569}} 
\index{BurtCan@{BurtCan}!registerHandler@{registerHandler}}
\index{registerHandler@{registerHandler}!BurtCan@{BurtCan}}
\doxysubsubsection{\texorpdfstring{registerHandler()}{registerHandler()}}
{\footnotesize\ttfamily void Burt\+Can\+::register\+Handler (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{id,  }\item[{\mbox{\hyperlink{_b_u_r_t__can_8h_a5062746f455c9d56d0c1f684bba82ef3_a5062746f455c9d56d0c1f684bba82ef3}{Can\+Handler}}}]{handler }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Registers a handler function for the given ID. 

When a message is received, the {\ttfamily Flex\+CAN\+\_\+\+T4} library will parse its ID and send it to a mailbox that accepts that ID. By calling this function, you create a mailbox that is configured to handle all messages with the given ID and call the handler. 

Definition at line \mbox{\hyperlink{_b_u_r_t__can_8cpp_source_l00028}{28}} of file \mbox{\hyperlink{_b_u_r_t__can_8cpp_source}{BURT\+\_\+can.\+cpp}}.

\mbox{\Hypertarget{class_burt_can_a238e2df76151f9b512bb2211ee25d620_a238e2df76151f9b512bb2211ee25d620}\label{class_burt_can_a238e2df76151f9b512bb2211ee25d620_a238e2df76151f9b512bb2211ee25d620}} 
\index{BurtCan@{BurtCan}!send@{send}}
\index{send@{send}!BurtCan@{BurtCan}}
\doxysubsubsection{\texorpdfstring{send()}{send()}}
{\footnotesize\ttfamily void Burt\+Can\+::send (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{id,  }\item[{uint8\+\_\+t}]{data\mbox{[}\+DATA\+\_\+\+LENGTH\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Sends a message via the CAN bus protocol. 

The ID determines the purpose of the message and who will receive it. The data buffer is restricted to \mbox{\hyperlink{_b_u_r_t__can_8h_af0113b8a0d65aab384607436aa155838_af0113b8a0d65aab384607436aa155838}{DATA\+\_\+\+LENGTH}}. 

Definition at line \mbox{\hyperlink{_b_u_r_t__can_8cpp_source_l00014}{14}} of file \mbox{\hyperlink{_b_u_r_t__can_8cpp_source}{BURT\+\_\+can.\+cpp}}.

\mbox{\Hypertarget{class_burt_can_a4a2407abb36ee4e5d23696ff1c868cc4_a4a2407abb36ee4e5d23696ff1c868cc4}\label{class_burt_can_a4a2407abb36ee4e5d23696ff1c868cc4_a4a2407abb36ee4e5d23696ff1c868cc4}} 
\index{BurtCan@{BurtCan}!setup@{setup}}
\index{setup@{setup}!BurtCan@{BurtCan}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void Burt\+Can\+::setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Initializes settings in CAN. 

This configures CAN to reject all messages by default. To process a message, register a function to handle the message in \mbox{\hyperlink{class_burt_can_a0e87852581ef690086342a48a291d569_a0e87852581ef690086342a48a291d569}{register\+Handler}}. 

Definition at line \mbox{\hyperlink{_b_u_r_t__can_8cpp_source_l00006}{6}} of file \mbox{\hyperlink{_b_u_r_t__can_8cpp_source}{BURT\+\_\+can.\+cpp}}.

\mbox{\Hypertarget{class_burt_can_ab549af8dc00d6f7c4f02af0055628fd1_ab549af8dc00d6f7c4f02af0055628fd1}\label{class_burt_can_ab549af8dc00d6f7c4f02af0055628fd1_ab549af8dc00d6f7c4f02af0055628fd1}} 
\index{BurtCan@{BurtCan}!update@{update}}
\index{update@{update}!BurtCan@{BurtCan}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void Burt\+Can\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Checks for incoming messages. 

Call this in the loop function to stay up-\/to-\/date on message delivery. 

Definition at line \mbox{\hyperlink{_b_u_r_t__can_8cpp_source_l00036}{36}} of file \mbox{\hyperlink{_b_u_r_t__can_8cpp_source}{BURT\+\_\+can.\+cpp}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_burt_can_a3861945afb212de0ec54f490813dbb9b_a3861945afb212de0ec54f490813dbb9b}\label{class_burt_can_a3861945afb212de0ec54f490813dbb9b_a3861945afb212de0ec54f490813dbb9b}} 
\index{BurtCan@{BurtCan}!can@{can}}
\index{can@{can}!BurtCan@{BurtCan}}
\doxysubsubsection{\texorpdfstring{can}{can}}
{\footnotesize\ttfamily \mbox{\hyperlink{_b_u_r_t__can_8h_ad573616343e9599d46e53cbd0495a674_ad573616343e9599d46e53cbd0495a674}{Can}} Burt\+Can\+::can\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



The {\ttfamily Flex\+CAN\+\_\+\+T4} instance. 



Definition at line \mbox{\hyperlink{_b_u_r_t__can_8h_source_l00047}{47}} of file \mbox{\hyperlink{_b_u_r_t__can_8h_source}{BURT\+\_\+can.\+h}}.

\mbox{\Hypertarget{class_burt_can_a0a90577332245518856f62d7aabb1790_a0a90577332245518856f62d7aabb1790}\label{class_burt_can_a0a90577332245518856f62d7aabb1790_a0a90577332245518856f62d7aabb1790}} 
\index{BurtCan@{BurtCan}!mailbox@{mailbox}}
\index{mailbox@{mailbox}!BurtCan@{BurtCan}}
\doxysubsubsection{\texorpdfstring{mailbox}{mailbox}}
{\footnotesize\ttfamily int Burt\+Can\+::mailbox = MB0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



The number of the next available mailbox. 



Definition at line \mbox{\hyperlink{_b_u_r_t__can_8h_source_l00046}{46}} of file \mbox{\hyperlink{_b_u_r_t__can_8h_source}{BURT\+\_\+can.\+h}}.

